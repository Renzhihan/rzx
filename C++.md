# 第二章 变量和基本类型

## 1.基本内置类型

### 算术类型

除去字符型和其他扩展的字符型之外，其他整型可以分为带符号的(signed)和无符号（unsigned），带符号的可以表示正数、负数、0，无符号的仅能表示**大于等于0**的值。

unsigned int可以表示int

字符型可以分为:char、signed char和unsigned char，但实际表现形式只有两种：有符号的和无符号的，char具体表示哪种由编译器决定。

### 类型转换

当一个表达式中既有无符号数又有int值时，int会自动转换为无符号数

```c++
unsigned u= 10;
int i=-42;
std::cout<< i + i << std::endl; //输出-84
std::cout<< u + i << std::endl; //如果int占32位，输出4294967264
//实际上等于负数加无符号数的模

```

无符号数减去一个值，无论是否为无符号数，都要确保结果不是负值

```C++
unsigned int a = 42, b = 10 ;
std::cout<< a - b << std::endl; // 正确，输出32
std::cout<< b - a << std::endl; // 正确，输出的为取模后的值
```

**切勿混用带符号类型和无符号类型**

## 2.变量

### 变量声明与定义的关系

C++支持**分离式编译**，允许将程序分割为多个文件，每个文件可被独立编译。

声明（declaration）使得名字为程序所知，定义（definition）负责创建与名字关联的实体。

声明规定了变量的类型和名字，在这一点上定义与之相同，但除此之外，**定义还申请存储空间，也可能为变量赋一个初始值**。

```c++
extern int i // 声明i
int j // 声明并定义j
extern double pi = 3.14 // 定义
```

**变量能且仅能被定义依次，但可以被多次声明**

## 3.复合类型

### 引用

引用为对象起了另外一个名字

```c++
int ival=1024;
int &refval=ival; // refval 指向 ival （是 ival 的另一个名字 ）
int &refval2; // 报错：引用必须被初始化
```

**引用必须初始化**

**引用即别名**  引用并非对象，它只是为一个已经存在的对象所起的另外一个名字

**引用本身不是一个对象，所以不能定义引用的引用**

```c++
int i1 = 1024 , i2 = 2048 ; // i1，i2都是int
int &r = i , r2 = i2 ; // r是引用 r2是int
int i3 = 1024 , &ri = i3 ; // i3是int ri是引用
int &r3 = i3 , &r4 = i2 ; // r3 r4都是int
```

### 指针

**赋值永远改变的是等号左侧的对象**

void*指针可以存放任意对象的地址

```;
double obj = 3.14 ,*pd = &obj ;
void *pv = &obj ;
pv = pd ;
```

## 4.const限定符



**指向常量的指针也没有规定其所指的对象必须是一个常量，仅要求不能通过该指针改变对象的值，而没有规定不能通过其他途经改变**